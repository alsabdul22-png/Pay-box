<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayBox</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'><defs><linearGradient id='grad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:%2300d4ff;stop-opacity:1' /><stop offset='100%' style='stop-color:%230099ff;stop-opacity:1' /></linearGradient></defs><rect width='256' height='256' fill='url(%23grad)'/><rect x='30' y='40' width='196' height='140' rx='10' fill='%23ffffff' opacity='0.95'/><circle cx='128' cy='200' r='35' fill='%2300d4ff' opacity='0.8'/><text x='128' y='210' font-size='40' font-weight='bold' text-anchor='middle' fill='%23ffffff'>ğŸ’³</text></svg>">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="logo-container">
                    <div class="logo">ğŸ’³</div>
                    <h1 data-i18n="appName">PayBox</h1>
                </div>
                <div class="language-selector">
                    <select id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                        <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                    </select>
                </div>
            </div>
            <p class="time" id="time"></p>
        </div>

        <div class="main-content">
            <!-- Linke Seite: Produkte -->
            <div class="products-section">
                <h2 data-i18n="articles">Artikel</h2>
                
                <div class="barcode-scanner">
                    <h3>ğŸ“± Barcode Scan</h3>
                    <input type="text" id="barcodeInput" placeholder="Barcode einscannen..." onkeypress="handleBarcodeInput(event)">
                    <p class="scanner-hint" data-i18n="scanHint">Barcode einscannen oder manuell eingeben</p>
                </div>
                
                <div class="products-grid" id="productsGrid"></div>
                
                <div class="add-product">
                    <h3 data-i18n="newArticle">Neuer Artikel</h3>
                    <input type="text" id="productName" placeholder="Artikelname">
                    <input type="number" id="productPrice" placeholder="Preis" step="0.01" min="0">
                    <input type="text" id="productBarcode" placeholder="Barcode (optional)">
                    
                    <div class="image-upload-section">
                        <label for="productImage" class="image-upload-label">
                            <span id="imagePreviewSmall" class="image-icon">ğŸ–¼ï¸</span>
                            <span id="imageText" data-i18n="selectImage">Bild auswÃ¤hlen</span>
                        </label>
                        <input type="file" id="productImage" accept="image/*" onchange="previewImage(event)">
                        <img id="imagePreview" class="image-preview" alt="Bildvorschau">
                    </div>
                    
                    <button onclick="addProduct()" data-i18n="addButton">+ HinzufÃ¼gen</button>
                </div>
            </div>

            <!-- Rechte Seite: Warenkorb -->
            <div class="cart-section">
                <h2 data-i18n="cart">Warenkorb</h2>
                <div class="cart-items" id="cartItems">
                    <p class="empty-cart" data-i18n="emptyCart">Warenkorb ist leer</p>
                </div>

                <div class="cart-summary">
                    <div class="summary-row total">
                        <span data-i18n="total">Gesamt:</span>
                        <span id="total">â‚¬ 0,00</span>
                    </div>
                </div>

                <div class="payment-section">
                    <button class="btn-clear" onclick="clearCart()" data-i18n="cancel">Abbrechen</button>
                    <button class="btn-cash" onclick="checkoutWithPayment('cash')" data-i18n="cash">ğŸ’µ Bargeld</button>
                    <button class="btn-card" onclick="checkoutWithPayment('card')" data-i18n="card">ğŸ’³ Karte</button>
                </div>
                
                <button class="btn-open-cash" onclick="openCash()" data-i18n="openCash">ğŸ”“ Kasse Ã–ffnen</button>
            </div>
        </div>
    </div>

    <!-- Modal fÃ¼r ZahlungsbestÃ¤tigung -->
    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <h2>Quittung</h2>
            <div id="receiptContent"></div>
            <button class="btn-close" onclick="closeReceipt()">OK</button>
        </div>
    </div>

    <!-- Modal fÃ¼r Quittungsfrage -->
    <div id="receiptQuestionModal" class="modal">
        <div class="modal-content">
            <h2 data-i18n="receiptQuestion">Quittung?</h2>
            <p class="receipt-question-text" data-i18n="receiptAsk">MÃ¶chten Sie eine Quittung?</p>
            <div class="receipt-buttons">
                <button class="btn-no" onclick="closeReceiptQuestion(false)" data-i18n="no">âœ• Nein</button>
                <button class="btn-yes" onclick="closeReceiptQuestion(true)" data-i18n="yes">âœ“ Ja, drucken</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
